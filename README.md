# ParsKuf

**ParsKuf** - это скрипт, парсящий Kufar.
## Требования
- Установленный Python 3.x версии
- Установленные зависимости, указанные в файле requirements.txt 
```
pip install -r requirements.txt
```

## Установка и настройка
- Склонируйте репозиторий
- Создайте локальный репозиторий
- В папке проекта создаётся папка `utils` в ней будет храниться файл `errors.txt` для логирования ошибок и файл `stats.txt` для сбора статистики.
- Папку `utils` и файлы `errors.txt` и `stats.txt` самому создавать не надо!


## Особенности
- В скрипте есть 12 категорий товаров, при запуске программы вам будет предложено выбрать нужную категорию.
  
- После ввода номера категории и ключевой фразы, вам будет предложено выбрать вариант работы скрипта, с возможностью создания базы данных с результатами, а также с возможностью создать HTML страницу с отсортированными результатами, после выбора вариантов работы скрипт начнёт работу, среднее время цикла парсинга ~30 секунд.
  
- После окончания работы скрипта в директории проекта создаётся папка `content`, внутри неё создаётся папка с выбранной категорией, внутри создаётся папка с названием ключевой фразы, а внутри неё создаются папки для каждого найденного обьявления. Тажке исходя из выбранных вариантов работы может создаться база данных `.db` и HTML страница `.html` эти файла создаются внутри папки с названием ключевой фразы.
  
- В папке каждого обьявления лежит изображение взятое из обложки обьявления и файл `about.txt`.
  
- Файл `about.txt` содержит ссылку на товар, местанахождение и цену товара.
- База данных `.db` содержит ссылку на товар, ссылку на изображение с обложки, местанахождение и цену товара.
- Cтраница `.html` содержит изображение, ссылку на товар, местанахождение и цену товара. Результаты отсортированы в порядке возрастания цены.

- Если в базе данных цена равна `0.0` это значит, что цена в объявлении указана как Договорная.
  
- В файл `stats.txt` после каждого цикла парсинга добавляется информация об этом цикле: категория искомого товара, ключевая фраза для парсинга, дата завершения цикла, время, за которое цикл отработал.


### Примечание 
Данная версия скрипта не является исчерпывающей, если у вас есть идеи по его улучшению или же вы нашли баг - пишите в telegram: <a src='https://t.me/kolo_id'>@kolo_id</a>
